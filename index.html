<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tabele i Terminarze</title>
<style>
  body { font-family: Arial, sans-serif; background:#f2f5f9; margin:0; }
  header { background:#0d3b66; color:#fff; padding:16px; }
  h1 { margin:0; font-size:20px; }
  .tabs { display:flex; background:#eee; }
  .tab { flex:1; text-align:center; padding:10px; cursor:pointer; }
  .tab.active { background:#0d3b66; color:#fff; font-weight:bold; }
  section { padding:16px; }
  table { width:100%; border-collapse:collapse; margin-bottom:20px; }
  th,td { border:1px solid #ccc; padding:8px; text-align:center; }
  th { background:#0d3b66; color:white; }
</style>
</head>
<body>

<header>
  <h1>Rozgrywki młodzieżowe</h1>
</header>

<div class="tabs">
  <div class="tab active" onclick="switchCategory('Mlodzik')">Młodzik</div>
  <div class="tab" onclick="switchCategory('Mlodziczka')">Młodziczka</div>
</div>

<section>
  <h2 id="catTitle">Młodzik</h2>

  <h3>Terminarz eliminacyjny</h3>
  <table id="tbl-terminarz">
    <thead><tr><th>Data</th><th>Gospodarz</th><th>Gość</th><th>Wynik</th><th>Sety</th></tr></thead>
    <tbody></tbody>
  </table>

  <h3>Terminarz ligowy</h3>
  <table id="tbl-liga-terminarz">
    <thead><tr><th>Data</th><th>Gospodarz</th><th>Gość</th><th>Wynik</th><th>Sety</th></tr></thead>
    <tbody></tbody>
  </table>

  <h3>Miejsca w lidze</h3>
  <table id="tbl-liga-miejsca">
    <thead><tr><th>Drużyna</th><th>Mecze</th><th>Wygrane</th><th>Przegrane</th><th>Punkty</th></tr></thead>
    <tbody></tbody>
  </table>
</section>

<script>
const BASE_URL = "https://script.google.com/macros/s/AKfycbzQqe4XSxRhRXHiVq3KZ0ZyChn8FafdfR9ZEGxhsUcUO0ukTVUmKayjbm5S3_wCQA6t/exec";
let currentCategory = "Mlodzik";

function switchCategory(cat) {
  currentCategory = cat;
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.querySelector(`.tab:nth-child(${cat === "Mlodzik" ? 1 : 2})`).classList.add("active");
  document.getElementById("catTitle").textContent = cat;
  loadData();
}

function createCell(text){ const td=document.createElement('td'); td.textContent=text||""; return td; }

async function loadData(){
  const url = `${BASE_URL}?action=get&category=${currentCategory}`;
  const res = await fetch(url);
  const data = await res.json();

  fillTable("#tbl-terminarz tbody", data.terminarz);
  fillTable("#tbl-liga-terminarz tbody", data.ligaTerminarz);
  fillTable("#tbl-liga-miejsca tbody", data.ligaMiejsca);
}

function fillTable(selector, rows){
  const tb = document.querySelector(selector);
  tb.innerHTML = "";
  rows.forEach(r => {
    const tr = document.createElement("tr");
    r.forEach(cell => tr.appendChild(createCell(cell)));
    tb.appendChild(tr);
  });
}

loadData();
</script>

</body>
</html>
